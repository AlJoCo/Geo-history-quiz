# Geo-history-quiz

## Purpose
The app was inspired by the GeoGuesser game which places the user at a random set of co-ordinates and requires them to guess where they are. The objective of this app was to take this concept and add an additional dimension of time; as much to challenge the user on their knowledge of obscure places and times, and perhaps encourage research in areas where the user finds that they lack knowledge.

## Approach and Scope
While the app could potentially enjoy a lot of integrated functionality through use of the Google Maps API, some kind of wikipedia or other historical source integration, and a greater degree of customisable difficulty and/or more specific parameters; to achieve the core desired functionality - it was only necessary to generate valid co-ordinates (compatible with Google Maps), and a year. Most other features were deemed as outside of the scope of the project for now.

To this end, the app generates a random set of numbers corrsponding to a year, and valid inputs to enter into Google Maps which takes the user to a position on the globe, and prompts them with both a hint as to where that is regionall (to help them to confirm the location), and a year. In conjunction with their own geographic and historical knowledge, it gives the prompt for them to query whether they would be able to survive a year in that place at that time. This result is then saved to the database, and displayed below upon refreshing the page as a reminder of previous results.

## Technologies Used
The following tools were utilised to develop and host the app:
- GCP virtual computing machines
- GCP remote SQL database
- Git Version Control
- Jenkins Continuous Integration Server
- Docker Containerisation
- Docker Compose Container Managerment
- Docker Swarm Container Orchestration
- Ansible Configuration Management
- NGINX Reverse Proxy and Load Balancing
- Jira Project Management Support

These are brought together in the following visualised format:
![pic](Images/pipeline-diagram.png)

## Pipeline Explanation and Justification
When a new build is created, it will be pushed to Github on a feature branch, then merged into the development branch to form a functional but non-live build of the app. From here via a Jenkins Configured Server Webhook, a new build will be generated from the pulled code, inputing sensative data via enviornmental variables - kept safe by Jenkins' credential management system. Jenkins will run through a preset list of commands correpsonding to build steps configured in the Jenkinsfile. The dependencies will be installed as required, a virtual environment created and launched, then images generated by Docker and Docker Compose, which will be then built into containers, tested, and pushed to the Dockerhub repository if everything is valid. Replicas of these containers will be prepared by Docker Swarm. Ansible will check that all of the enviornments are correctly configured and possess all of the needed requirements and permissions - before the containers are launched within them ready to be accessed. NGINX will act as an intermediary Reverse Proxy Server to be accessed by the user, and it will then route them to the valid containers in a 'round robin' fashion to balance the load on each server, and provide a single access point to the multiple available instances of the app. 

While taking slightly longer to initially configure, this process reduces the complication on both the user and developer ends, meaning that the developer can simply push their code to Github, with the CI pipeline (predominantly Jenkins) automatically performing many of the shell operations necessary to take that online code and convert it into a usable form. On the user side, it means that there is one single access point which will automatically balance the stress on each instance of the app, ensuring smooth and quick response times. In the middle of this process, it means that the infastructure is much more scalable, movable, and replacable, with automatic scripts already set-up to prepare new machines to run the app, and readily accessible images stored online which can replicate the app where desired in a sanitised and self-contained container form. 

## Project Management and Risks
As part of the project mangement process, the following risk assessment was performed:
![pic](Images/risk-assessment.png)
Informed by previous experience, care was taken to ensure that risks which had previously manifested due to poor planning were remedied in advance with appropriate scoping and a better understanding of requirements. Even so, due to bugs; one feature had to be dropped, however it merely provided a way to manually submit entries, rather than doing so automatically during a page refresh, ergo functionality was not meaningfully effected.
Agile development principles were adhered to; integrating consistent testing imbedded within the development process, developing incrementally from the minimum viable product upwards into other desireable features but maintaining a constant delivery date, by extension making use of feature prioritisation through the MoSCoW model, and a Kanban board. This was achieved using the project management platform: Jira. Screenshots below:
![pic](Images/moscow.png)
![pic](Images/jira-kanban-board.png)
![pic](Images/user-story.png)
## Testing
User stories were later used to inform testing; revolving around ensuring that numerical values would display correctly and within the established parameters to make them compatible with both the calandar and Google Maps; and that the correct region would be provided in the hints. As demonstrated below, the app was fully tested, and runs a full set of tests as part of every build.
![pic](Images/test-1.png)
![pic](Images/test-2.png)
Through this testing however, it was discovered that a bug caused the regions to be displaying improperly. The conditional statements would lead to any Asia results being allocated to a different region. Thanks to proper testing this bug was discovered and rectified before presentation and rollout.

## Future Feature Implimentation
As per existing user stories which were deemed out of scope, there are two main avenues for future development:
- Wikipedia Integration: automatic searching for the history of a region for a much more substantial hint if the user does not know what was taking place in the area at that time.
- Google Maps Integration: cut out the step of the user having to input the co-ordinates themselves - instead automating the process so that the user can immediate see where they have been placed on the map.

## Author
Alex Coates

## Contributions
Many thanks to Harry Volker, Jack Parry, Martin Taylor, and Vikhil Parshotam for their invaluable consulted expertise
